# lab1
Mood Tracker API — это REST-приложение на Spring Boot для ведения дневника настроения. Проект реализует полноценную серверную архитектуру с использованием Spring Data JPA, реляционной базы данных (PostgreSQL), DTO-моделей, маппинга, транзакций, асинхронных операций, AOP, логирования и Docker. Разработка выполнена в учебных целях и демонстрирует принципы построения современного backend-приложения.

Приложение позволяет пользователям создавать записи о настроении, добавлять эмоции и теги, оставлять комментарии, фильтровать записи по различным параметрам (дата, эмоции, теги), а также получать статистику по своему эмоциональному состоянию. Поддерживаются bulk-операции (массовое добавление записей), асинхронный пересчёт статистики с возможностью проверки статуса задачи, а также in-memory индексирование ранее выполненных запросов с корректной инвалидацией при изменении данных.

Архитектура проекта построена по слоистому принципу: Controller → Service → Repository → Database. Контроллеры принимают HTTP-запросы и возвращают JSON-ответы, сервисный слой содержит бизнес-логику, репозитории обеспечивают доступ к данным через Spring Data JPA, а сущности (Entity) отражают структуру таблиц базы данных. Для отделения API-модели от модели БД используются DTO и mapper-компоненты. Реализована глобальная обработка ошибок через @ControllerAdvice и единый формат ответа об ошибке.

В модели данных присутствуют следующие сущности: User (пользователь), MoodEntry (запись о настроении — ключевая сущность), Emotion (эмоция), Tag (метка) и Comment (комментарий к записи). Реализованы связи User 1→N MoodEntry, MoodEntry N↔N Emotion, MoodEntry N↔N Tag и MoodEntry 1→N Comment. Настроены CascadeType и FetchType с обоснованием выбора. Продемонстрирована проблема N+1 и её решение через @EntityGraph или fetch join.

REST API построено согласно принципам REST: ресурсно-ориентированные URL, корректное использование HTTP-методов (GET, POST, PUT, DELETE), статeless-подход и использование JSON как формата обмена данными. Реализованы endpoint’ы с использованием @PathVariable и @RequestParam, поддерживается пагинация через Pageable, сложные JPQL-запросы с фильтрацией по вложенным сущностям, а также их аналоги на native query.

Проект включает транзакционную бизнес-логику с демонстрацией различий поведения с @Transactional и без неё (частичное сохранение данных против полного отката). Реализованы unit-тесты сервисного слоя с использованием Mockito. Настроено логирование через logback (уровни, ротация логов), добавлен аспект (AOP) для логирования времени выполнения сервисных методов, подключён Swagger/OpenAPI для документирования API.

Приложение контейнеризировано с помощью Docker, настроен Docker Compose (приложение + БД), используются переменные окружения. Возможна интеграция CI/CD через GitHub Actions с автоматической сборкой, тестированием и деплоем.

Проект демонстрирует применение принципов ООП, SOLID, DRY, KISS и YAGNI, а также работу Spring Bean-контейнера (ApplicationContext), механизмов сериализации/десериализации JSON (Jackson) и dependency injection.
